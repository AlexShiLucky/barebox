config RISCV
	bool
	select GENERIC_FIND_NEXT_BIT
	#select OFTREE
	select HAVE_CONFIGURABLE_MEMORY_LAYOUT
	select HAVE_CONFIGURABLE_TEXT_BASE
	default y

config GENERIC_LINKER_SCRIPT
	bool
	default y

menu "Machine selection"

choice
	prompt "System type"
	default MACH_SIFIVE

config MACH_SIFIVE
	bool "SiFive"

endchoice

choice
	prompt "CPU selection"
	default CPU_RV_GENERIC

config CPU_RV_GENERIC
	bool "Generic RISC-V"
	select CPU_SUPPORTS_32BIT_KERNEL
	select CPU_SUPPORTS_64BIT_KERNEL

endchoice

config CPU_SUPPORTS_32BIT_KERNEL
	bool
config CPU_SUPPORTS_64BIT_KERNEL
	bool

choice
	prompt "barebox code model"
	default 64BIT

config 32BIT
	bool "32-bit barebox"
	depends on CPU_SUPPORTS_32BIT_KERNEL
	help
	  Select this option to build a 32-bit barebox.

config 64BIT
	bool "64-bit barebox"
	depends on CPU_SUPPORTS_64BIT_KERNEL
	help
	  Select this option to build a 64-bit barebox.

endchoice

config BUILTIN_DTB
	bool "link a DTB into the barebox image"
	depends on OFTREE

config BUILTIN_DTB_NAME
	string "DTB to build into the barebox image"
	depends on BUILTIN_DTB

source arch/riscv/mach-sifive/Kconfig

endmenu

source common/Kconfig
source commands/Kconfig
source net/Kconfig
source drivers/Kconfig
source fs/Kconfig
source lib/Kconfig
source crypto/Kconfig
